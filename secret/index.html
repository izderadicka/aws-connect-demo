<html>
  <header>
    <title>AWS Connect Demo</title>
  </header>
  <body>
    <h1>AWS Connect Web Client - with Secret</h1>
    <h2>For Demo purposes only</h2>
    <script type="text/javascript">
  (function(w, d, x, id){
    s=d.createElement('script');
    s.src='https://ivan-aws-free.my.connect.aws/connectwidget/static/amazon-connect-chat-interface-client.js';
    s.async=1;
    s.id=id;
    d.getElementsByTagName('head')[0].appendChild(s);
    w[x] =  w[x] || function() { (w[x].ac = w[x].ac || []).push(arguments) };
    console.log(`function ${x} loaded`)
  })(window, document, 'amazon_connect', '3242a758-8278-4b18-90d6-897f4148d3f3');
  const staticToken = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIiLCJpYXQiOjE3NTA4NDIzMjEsImV4cCI6MTc1MzQzNDMyMSwidG9rZW5fdXNlciI6InVzYWsifQ.cQSgQX54aT5j5v6x4V8ZRNIA00GVXtGzhgdVxcHLfsg"
  amazon_connect('authenticate', function(callback) {
    // Promise.resolve(staticToken).then(token => {
    //   callback(token);
    // });

    callback(staticToken);
    console.log("callback called");
});   

  amazon_connect('styles', { iconType: 'CHAT_VOICE', openChat: { color: '#ffffff', backgroundColor: '#123456' }, closeChat: { color: '#ffffff', backgroundColor: '#123456'} });
  amazon_connect('snippetId', 'QVFJREFIZ3JjM0V2VVBOckdYcW1jeFRyRHU0N1IwL0hXQXhoMlF6RE5FSm4wc01nUUFGUUdiRlg1K2R2YUtRMFdDV3FidlJPQUFBQWJqQnNCZ2txaGtpRzl3MEJCd2FnWHpCZEFnRUFNRmdHQ1NxR1NJYjNEUUVIQVRBZUJnbGdoa2dCWlFNRUFTNHdFUVFNbExTc0Y2L2w4dldBajVtaUFnRVFnQ3Urdy9td3pSNHN6REEydWNhMjIveEpEbjhpbi9BTy9sSnBVUzNzZ20rVXFQMVAxNG85UXFVS3VkY0U6Om9KZlpDaU5rMW5tWW5hOHUvN25pSjMwSnppSnEzUlF2bk1aNk9tZWtwSGhlQjVqTk5QQ2c0ZW9BR3JWTlY3N0RJR0QrN0YzUGthb3NSdTRxaEszNWo0a0s4ZDlTNUN2ZU51eS9XVDE4S3dCQ1B2US9lTnJGVzRGYzBxTEZlSWQ5aS9GSXRZS2doVTViVnVaQWlPRkFBaEJQNEI4YnpSOD0=');
  amazon_connect('supportedMessagingContentTypes', [ 'text/plain', 'text/markdown', 'application/vnd.amazonaws.connect.message.interactive', 'application/vnd.amazonaws.connect.message.interactive.response' ]);
  
</script>
  </body>
</html>
